# Test Profile Configuration
spring:
  profiles:
    active: test

  datasource:
    # Testcontainers will override these
    url: jdbc:postgresql://localhost:5434/test_db
    username: test_user
    password: test_password
    driver-class-name: org.postgresql.Driver

  flyway:
    enabled: true
    clean-disabled: false
    locations: classpath:db/migration

  # Disable async for tests
  task:
    execution:
      pool:
        core-size: 1
        max-size: 2

logging:
  level:
    root: WARN
    com.todoapp: DEBUG
    org.springframework.test: INFO
    org.springframework.security: DEBUG
    org.testcontainers: INFO
    org.jooq: INFO

# JWT (will be overridden by Testcontainers)
jwt:
  access-secret: test-access-secret-key-for-testing-purposes-only-min-256-bits
  refresh-secret: test-refresh-secret-key-for-testing-purposes-only-min-256-bits
  access-expiry: 15m
  refresh-expiry: 7d

# Email (disabled in tests)
sendgrid:
  api-key: ""

email:
  from: test@example.com

# CORS
cors:
  allowed-origins: http://localhost:3000
